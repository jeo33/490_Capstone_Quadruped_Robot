import math
import pygame
import numpy as np
from numpy.linalg import norm
from math import acos, degrees




def angle_between_vectors(v1, v2):
    # Calculate the dot product of two vectors
    dot_product = np.dot(v1, v2)

    # Calculate the magnitude (norm) of each vector
    norm_v1 = np.linalg.norm(v1)
    norm_v2 = np.linalg.norm(v2)

    # Calculate the cosine of the angle between the two vectors
    cos_angle = dot_product / (norm_v1 * norm_v2)

    # Ensure the cosine value is within the valid range [-1, 1] to prevent numerical issues
    cos_angle = max(min(cos_angle, 1), -1)

    # Calculate the angle in radians and then convert to degrees
    angle_radians = math.acos(cos_angle)
    angle_degrees = math.degrees(angle_radians)
    return angle_degrees
def SSA_solver(femur,tibia):
    height=femur/np.sqrt(2)+np.sqrt(tibia**2-((femur/np.sqrt(2))**2))
    return height
def SSS_solver(A,B,C):
    var=(A**2+B**2-C**2)/(2*A*B)
    if var>1:
        var=1
    elif var<-1:
        var=-1
    return np.degrees(np.arccos(var))
class robot:
    def __init__(self):
        self.L = 0.075 * 2  # length of robot joints
        self.W = 0.027 * 2  # width of robot joints
        self.coxa = 0.045  # coxa length
        self.femur = 0.125  # femur length
        self.tibia = 0.146  # tibia length
        self.height=SSA_solver(self.femur,self.tibia)
        self.x_norm = np.array([1, 0, 0])
        self.y_norm = np.array([0, 1, 0])
        self.z_norm = np.array([0, 0, 1])
        self.feet_coordinate = np.array([0, 0, 0])

    def solver_R(self,np_array):
        angle_x=angle_between_vectors(np.array([np_array[0], 0, np_array[2]]),self.x_norm)
        theta1=np.degrees(np.pi)-angle_x-SSS_solver(self.femur,np.sqrt(np_array[0]**2+np_array[2]**2),self.tibia,)
        theta2=SSS_solver(self.femur,self.tibia,np.sqrt(np_array[0]**2+np_array[2]**2))
        angle_y=angle_between_vectors(np.array([0,np_array[1],np_array[2]]),self.y_norm)
        theta0=angle_y
        if math.isnan(theta0):
            theta0=90
        if math.isnan(theta1):
            theta1=90
        if math.isnan(theta2):
            theta2=90
        return theta0,theta1,theta2
    def solver_L(self,np_array):
        angle_x=angle_between_vectors(np.array([np_array[0], 0, np_array[2]]),self.x_norm)
        theta1=np.degrees(np.pi)-angle_x-SSS_solver(self.femur,np.sqrt(np_array[0]**2+np_array[2]**2),self.tibia,)
        theta2=SSS_solver(self.femur,self.tibia,np.sqrt(np_array[0]**2+np_array[2]**2))
        angle_y=angle_between_vectors(np.array([0,np_array[1],np_array[2]]),self.y_norm)
        theta0=angle_y
        if math.isnan(theta0):
            theta0=90
        if math.isnan(theta1):
            theta1=90
        if math.isnan(theta2):
            theta2=90
        return theta0,180-theta1,180-theta2
    def stand(self):
        temp=np.array([0.05,0,-0.21])
        right= self.solver_R(temp)
        left= self.solver_L(temp)
        list=right+left+right+left
        return list

    def sit(self):
        temp=np.array([0.146,0.0,-0.125])
        right= self.solver_R(temp)
        left= self.solver_L(temp)
        list=right+left+right+left
        return list
        
    def walk(self):
        BR=[]
        BL=[]
        FR=[]
        FL=[]
        temp1=np.array([0.05,0.0,-0.21])
        temp2=np.array([0.04875,0.0,-0.21])
        temp3=np.array([0.0475,0.0,-0.21])
        temp4=np.array([0.04625,0.0,-0.21])
        temp5=np.array([0.045000000000000005,0.0,-0.21])
        temp6=np.array([0.043750000000000004,0.0,-0.21])
        temp7=np.array([0.0425,0.0,-0.21])
        temp8=np.array([0.04125,0.0,-0.21])
        temp9=np.array([0.04,0.0,-0.21])
        temp10=np.array([0.03875000000000001,0.0,-0.21])
        temp11=np.array([0.037500000000000006,0.0,-0.21])
        temp12=np.array([0.036250000000000004,0.0,-0.21])
        temp13=np.array([0.035,0.0,-0.21])
        temp14=np.array([0.03375,0.0,-0.21])
        temp15=np.array([0.0325,0.0,-0.21])
        temp16=np.array([0.03125,0.0,-0.21])
        temp17=np.array([0.030000000000000002,0.0,-0.21])
        temp18=np.array([0.02875,0.0,-0.21])
        temp19=np.array([0.027500000000000004,0.0,-0.21])
        temp20=np.array([0.026250000000000002,0.0,-0.21])
        temp21=np.array([0.025,0.0,-0.21])
        temp22=np.array([0.023750000000000004,0.0,-0.21])
        temp23=np.array([0.022500000000000003,0.0,-0.21])
        temp24=np.array([0.02125,0.0,-0.21])
        temp25=np.array([0.020000000000000004,0.0,-0.21])
        temp26=np.array([0.018750000000000003,0.0,-0.21])
        temp27=np.array([0.0175,0.0,-0.21])
        temp28=np.array([0.01625,0.0,-0.21])
        temp29=np.array([0.015,0.0,-0.21])
        temp30=np.array([0.013750000000000005,0.0,-0.21])
        temp31=np.array([0.012500000000000004,0.0,-0.21])
        temp32=np.array([0.011250000000000003,0.0,-0.21])
        temp33=np.array([0.010000000000000002,0.0,-0.21])
        temp34=np.array([0.00875,0.0,-0.21])
        temp35=np.array([0.0075,0.0,-0.21])
        temp36=np.array([0.006249999999999999,0.0,-0.21])
        temp37=np.array([0.0050000000000000044,0.0,-0.21])
        temp38=np.array([0.0037500000000000033,0.0,-0.21])
        temp39=np.array([0.0025000000000000022,0.0,-0.21])
        temp40=np.array([0.0012500000000000011,0.0,-0.21])
        temp41=np.array([0.0,0.0,-0.21])
        temp42=np.array([-0.0046835248731,0.0,-0.2093263276639])
        temp43=np.array([-0.0077884668278,0.0,-0.2080326018495])
        temp44=np.array([-0.0096859313557,0.0,-0.206048888934])
        temp45=np.array([-0.0108071603949,0.0,-0.2033751889174])
        temp46=np.array([-0.01,0.0,-0.2])
        temp47=np.array([-0.00740312,0.0,-0.1966276])
        temp48=np.array([-0.00242255,0.0,-0.19076932])
        temp49=np.array([0.00370368,0.0,-0.18436271])
        temp50=np.array([0.01079929,0.0,-0.17787041])
        temp51=np.array([0.01868805,0.0,-0.1717551])
        temp52=np.array([0.02719369,0.0,-0.16647944])
        temp53=np.array([0.03613996,0.0,-0.1625061])
        temp54=np.array([0.04535061,0.0,-0.16029773])
        temp55=np.array([0.05464939,0.0,-0.16029773])
        temp56=np.array([0.06386004,0.0,-0.1625061])
        temp57=np.array([0.07280631,0.0,-0.16647944])
        temp58=np.array([0.08131195,0.0,-0.1717551])
        temp59=np.array([0.08920071,0.0,-0.17787041])
        temp60=np.array([0.09629632,0.0,-0.18436271])
        temp61=np.array([0.10242255,0.0,-0.19076932])
        temp62=np.array([0.10740312,0.0,-0.1966276])
        temp63=np.array([0.11,0.0,-0.2])
        temp64=np.array([0.1108071604,0.0,-0.2033751889174])
        temp65=np.array([0.1096859314,0.0,-0.206048888934])
        temp66=np.array([0.1077884668,0.0,-0.2080326018495])
        temp67=np.array([0.1046835249,0.0,-0.2093263276639])
        temp68=np.array([0.1,0.0,-0.21])
        temp69=np.array([0.09875,0.0,-0.21])
        temp70=np.array([0.0975,0.0,-0.21])
        temp71=np.array([0.09625,0.0,-0.21])
        temp72=np.array([0.095,0.0,-0.21])
        temp73=np.array([0.09375,0.0,-0.21])
        temp74=np.array([0.0925,0.0,-0.21])
        temp75=np.array([0.09125,0.0,-0.21])
        temp76=np.array([0.09000000000000001,0.0,-0.21])
        temp77=np.array([0.08875000000000001,0.0,-0.21])
        temp78=np.array([0.08750000000000001,0.0,-0.21])
        temp79=np.array([0.08625000000000001,0.0,-0.21])
        temp80=np.array([0.085,0.0,-0.21])
        temp81=np.array([0.08375,0.0,-0.21])
        temp82=np.array([0.0825,0.0,-0.21])
        temp83=np.array([0.08125,0.0,-0.21])
        temp84=np.array([0.08,0.0,-0.21])
        temp85=np.array([0.07875,0.0,-0.21])
        temp86=np.array([0.07750000000000001,0.0,-0.21])
        temp87=np.array([0.07625000000000001,0.0,-0.21])
        temp88=np.array([0.07500000000000001,0.0,-0.21])
        temp89=np.array([0.07375000000000001,0.0,-0.21])
        temp90=np.array([0.07250000000000001,0.0,-0.21])
        temp91=np.array([0.07125000000000001,0.0,-0.21])
        temp92=np.array([0.07,0.0,-0.21])
        temp93=np.array([0.06875,0.0,-0.21])
        temp94=np.array([0.0675,0.0,-0.21])
        temp95=np.array([0.06625,0.0,-0.21])
        temp96=np.array([0.065,0.0,-0.21])
        temp97=np.array([0.06375,0.0,-0.21])
        temp98=np.array([0.0625,0.0,-0.21])
        temp99=np.array([0.061250000000000006,0.0,-0.21])
        temp100=np.array([0.060000000000000005,0.0,-0.21])
        temp101=np.array([0.058750000000000004,0.0,-0.21])
        temp102=np.array([0.0575,0.0,-0.21])
        temp103=np.array([0.05625,0.0,-0.21])
        temp104=np.array([0.05500000000000001,0.0,-0.21])
        temp105=np.array([0.053750000000000006,0.0,-0.21])
        temp106=np.array([0.052500000000000005,0.0,-0.21])
        temp107=np.array([0.051250000000000004,0.0,-0.21])
        temp108=np.array([0.05,0.0,-0.21])
        temp109=np.array([0.05,0.0,-0.21])
        temp110=np.array([0.05,0.0,-0.21])
        temp111=np.array([0.05,0.0,-0.21])
        temp112=np.array([0.05,0.0,-0.21])
        temp113=np.array([0.05,0.0,-0.21])
        temp114=np.array([0.05,0.0,-0.21])
        temp115=np.array([0.05,0.0,-0.21])
        temp116=np.array([0.05,0.0,-0.21])
        temp117=np.array([0.05,0.0,-0.21])
        temp118=np.array([0.05,0.0,-0.21])
        temp119=np.array([0.05,0.0,-0.21])
        temp120=np.array([0.05,0.0,-0.21])
        temp121=np.array([0.05,0.0,-0.21])
        temp122=np.array([0.05,0.0,-0.21])
        temp123=np.array([0.05,0.0,-0.21])
        temp124=np.array([0.05,0.0,-0.21])
        temp125=np.array([0.05,0.0,-0.21])
        temp126=np.array([0.05,0.0,-0.21])
        temp127=np.array([0.05,0.0,-0.21])
        temp128=np.array([0.05,0.0,-0.21])
        temp129=np.array([0.05,0.0,-0.21])
        temp130=np.array([0.05,0.0,-0.21])
        temp131=np.array([0.05,0.0,-0.21])
        temp132=np.array([0.05,0.0,-0.21])
        temp133=np.array([0.05,0.0,-0.21])
        temp134=np.array([0.05,0.0,-0.21])
        temp135=np.array([0.05,0.0,-0.21])
        temp136=np.array([0.05,0.0,-0.21])
        temp137=np.array([0.05,0.0,-0.21])
        temp138=np.array([0.05,0.0,-0.21])
        temp139=np.array([0.05,0.0,-0.21])
        temp140=np.array([0.05,0.0,-0.21])
        temp141=np.array([0.05,0.0,-0.21])
        temp142=np.array([0.05,0.0,-0.21])
        temp143=np.array([0.05,0.0,-0.21])
        temp144=np.array([0.05,0.0,-0.21])
        temp145=np.array([0.05,0.0,-0.21])
        temp146=np.array([0.05,0.0,-0.21])
        temp147=np.array([0.05,0.0,-0.21])
        temp148=np.array([0.05,0.0,-0.21])
        temp149=np.array([0.05,0.0,-0.21])
        temp150=np.array([0.05,0.0,-0.21])
        temp151=np.array([0.05,0.0,-0.21])
        temp152=np.array([0.05,0.0,-0.21])
        temp153=np.array([0.05,0.0,-0.21])
        temp154=np.array([0.05,0.0,-0.21])
        temp155=np.array([0.05,0.0,-0.21])
        temp156=np.array([0.05,0.0,-0.21])
        temp157=np.array([0.05,0.0,-0.21])
        temp158=np.array([0.05,0.0,-0.21])
        temp159=np.array([0.05,0.0,-0.21])
        temp160=np.array([0.05,0.0,-0.21])
        temp161=np.array([0.05,0.0,-0.21])
        temp162=np.array([0.05,0.0,-0.21])
        temp163=np.array([0.05,0.0,-0.21])
        temp164=np.array([0.05,0.0,-0.21])
        temp165=np.array([0.05,0.0,-0.21])
        temp166=np.array([0.05,0.0,-0.21])
        temp167=np.array([0.05,0.0,-0.21])
        temp168=np.array([0.05,0.0,-0.21])
        temp169=np.array([0.05,0.0,-0.21])
        temp170=np.array([0.05,0.0,-0.21])
        temp171=np.array([0.05,0.0,-0.21])
        temp172=np.array([0.05,0.0,-0.21])
        temp173=np.array([0.05,0.0,-0.21])
        temp174=np.array([0.05,0.0,-0.21])
        temp175=np.array([0.05,0.0,-0.21])
        temp176=np.array([0.05,0.0,-0.21])
        temp177=np.array([0.05,0.0,-0.21])
        temp178=np.array([0.05,0.0,-0.21])
        temp179=np.array([0.05,0.0,-0.21])
        temp180=np.array([0.05,0.0,-0.21])
        temp181=np.array([0.05,0.0,-0.21])
        temp182=np.array([0.05,0.0,-0.21])
        temp183=np.array([0.05,0.0,-0.21])
        temp184=np.array([0.05,0.0,-0.21])
        temp185=np.array([0.05,0.0,-0.21])
        temp186=np.array([0.05,0.0,-0.21])
        temp187=np.array([0.05,0.0,-0.21])
        temp188=np.array([0.05,0.0,-0.21])
        temp189=np.array([0.05,0.0,-0.21])
        BR.append(temp1)
        BR.append(temp2)
        BR.append(temp3)
        BR.append(temp4)
        BR.append(temp5)
        BR.append(temp6)
        BR.append(temp7)
        BR.append(temp8)
        BR.append(temp9)
        BR.append(temp10)
        BR.append(temp11)
        BR.append(temp12)
        BR.append(temp13)
        BR.append(temp14)
        BR.append(temp15)
        BR.append(temp16)
        BR.append(temp17)
        BR.append(temp18)
        BR.append(temp19)
        BR.append(temp20)
        BR.append(temp21)
        BR.append(temp22)
        BR.append(temp23)
        BR.append(temp24)
        BR.append(temp25)
        BR.append(temp26)
        BR.append(temp27)
        BR.append(temp28)
        BR.append(temp29)
        BR.append(temp30)
        BR.append(temp31)
        BR.append(temp32)
        BR.append(temp33)
        BR.append(temp34)
        BR.append(temp35)
        BR.append(temp36)
        BR.append(temp37)
        BR.append(temp38)
        BR.append(temp39)
        BR.append(temp40)
        BR.append(temp41)
        BR.append(temp42)
        BR.append(temp43)
        BR.append(temp44)
        BR.append(temp45)
        BR.append(temp46)
        BR.append(temp47)
        BR.append(temp48)
        BR.append(temp49)
        BR.append(temp50)
        BR.append(temp51)
        BR.append(temp52)
        BR.append(temp53)
        BR.append(temp54)
        BR.append(temp55)
        BR.append(temp56)
        BR.append(temp57)
        BR.append(temp58)
        BR.append(temp59)
        BR.append(temp60)
        BR.append(temp61)
        BR.append(temp62)
        BR.append(temp63)
        BR.append(temp64)
        BR.append(temp65)
        BR.append(temp66)
        BR.append(temp67)
        BR.append(temp68)
        BR.append(temp69)
        BR.append(temp70)
        BR.append(temp71)
        BR.append(temp72)
        BR.append(temp73)
        BR.append(temp74)
        BR.append(temp75)
        BR.append(temp76)
        BR.append(temp77)
        BR.append(temp78)
        BR.append(temp79)
        BR.append(temp80)
        BR.append(temp81)
        BR.append(temp82)
        BR.append(temp83)
        BR.append(temp84)
        BR.append(temp85)
        BR.append(temp86)
        BR.append(temp87)
        BR.append(temp88)
        BR.append(temp89)
        BR.append(temp90)
        BR.append(temp91)
        BR.append(temp92)
        BR.append(temp93)
        BR.append(temp94)
        BR.append(temp95)
        BR.append(temp96)
        BR.append(temp97)
        BR.append(temp98)
        BR.append(temp99)
        BR.append(temp100)
        BR.append(temp101)
        BR.append(temp102)
        BR.append(temp103)
        BR.append(temp104)
        BR.append(temp105)
        BR.append(temp106)
        BR.append(temp107)
        BR.append(temp108)
        BR.append(temp109)
        BR.append(temp110)
        BR.append(temp111)
        BR.append(temp112)
        BR.append(temp113)
        BR.append(temp114)
        BR.append(temp115)
        BR.append(temp116)
        BR.append(temp117)
        BR.append(temp118)
        BR.append(temp119)
        BR.append(temp120)
        BR.append(temp121)
        BR.append(temp122)
        BR.append(temp123)
        BR.append(temp124)
        BR.append(temp125)
        BR.append(temp126)
        BR.append(temp127)
        BR.append(temp128)
        BR.append(temp129)
        BR.append(temp130)
        BR.append(temp131)
        BR.append(temp132)
        BR.append(temp133)
        BR.append(temp134)
        BR.append(temp135)
        BR.append(temp136)
        BR.append(temp137)
        BR.append(temp138)
        BR.append(temp139)
        BR.append(temp140)
        BR.append(temp141)
        BR.append(temp142)
        BR.append(temp143)
        BR.append(temp144)
        BR.append(temp145)
        BR.append(temp146)
        BR.append(temp147)
        BR.append(temp148)
        BR.append(temp149)
        BR.append(temp150)
        BR.append(temp151)
        BR.append(temp152)
        BR.append(temp153)
        BR.append(temp154)
        BR.append(temp155)
        BR.append(temp156)
        BR.append(temp157)
        BR.append(temp158)
        BR.append(temp159)
        BR.append(temp160)
        BR.append(temp161)
        BR.append(temp162)
        BR.append(temp163)
        BR.append(temp164)
        BR.append(temp165)
        BR.append(temp166)
        BR.append(temp167)
        BR.append(temp168)
        BR.append(temp169)
        BR.append(temp170)
        BR.append(temp171)
        BR.append(temp172)
        BR.append(temp173)
        BR.append(temp174)
        BR.append(temp175)
        BR.append(temp176)
        BR.append(temp177)
        BR.append(temp178)
        BR.append(temp179)
        BR.append(temp180)
        BR.append(temp181)
        BR.append(temp182)
        BR.append(temp183)
        BR.append(temp184)
        BR.append(temp185)
        BR.append(temp186)
        BR.append(temp187)
        BR.append(temp188)
        BR.append(temp189)

        BL.append(temp163)
        BL.append(temp164)
        BL.append(temp165)
        BL.append(temp166)
        BL.append(temp167)
        BL.append(temp168)
        BL.append(temp169)
        BL.append(temp170)
        BL.append(temp171)
        BL.append(temp172)
        BL.append(temp173)
        BL.append(temp174)
        BL.append(temp175)
        BL.append(temp176)
        BL.append(temp177)
        BL.append(temp178)
        BL.append(temp179)
        BL.append(temp180)
        BL.append(temp181)
        BL.append(temp182)
        BL.append(temp183)
        BL.append(temp184)
        BL.append(temp185)
        BL.append(temp186)
        BL.append(temp187)
        BL.append(temp188)
        BL.append(temp189)
        BL.append(temp1)
        BL.append(temp2)
        BL.append(temp3)
        BL.append(temp4)
        BL.append(temp5)
        BL.append(temp6)
        BL.append(temp7)
        BL.append(temp8)
        BL.append(temp9)
        BL.append(temp10)
        BL.append(temp11)
        BL.append(temp12)
        BL.append(temp13)
        BL.append(temp14)
        BL.append(temp15)
        BL.append(temp16)
        BL.append(temp17)
        BL.append(temp18)
        BL.append(temp19)
        BL.append(temp20)
        BL.append(temp21)
        BL.append(temp22)
        BL.append(temp23)
        BL.append(temp24)
        BL.append(temp25)
        BL.append(temp26)
        BL.append(temp27)
        BL.append(temp28)
        BL.append(temp29)
        BL.append(temp30)
        BL.append(temp31)
        BL.append(temp32)
        BL.append(temp33)
        BL.append(temp34)
        BL.append(temp35)
        BL.append(temp36)
        BL.append(temp37)
        BL.append(temp38)
        BL.append(temp39)
        BL.append(temp40)
        BL.append(temp41)
        BL.append(temp42)
        BL.append(temp43)
        BL.append(temp44)
        BL.append(temp45)
        BL.append(temp46)
        BL.append(temp47)
        BL.append(temp48)
        BL.append(temp49)
        BL.append(temp50)
        BL.append(temp51)
        BL.append(temp52)
        BL.append(temp53)
        BL.append(temp54)
        BL.append(temp55)
        BL.append(temp56)
        BL.append(temp57)
        BL.append(temp58)
        BL.append(temp59)
        BL.append(temp60)
        BL.append(temp61)
        BL.append(temp62)
        BL.append(temp63)
        BL.append(temp64)
        BL.append(temp65)
        BL.append(temp66)
        BL.append(temp67)
        BL.append(temp68)
        BL.append(temp69)
        BL.append(temp70)
        BL.append(temp71)
        BL.append(temp72)
        BL.append(temp73)
        BL.append(temp74)
        BL.append(temp75)
        BL.append(temp76)
        BL.append(temp77)
        BL.append(temp78)
        BL.append(temp79)
        BL.append(temp80)
        BL.append(temp81)
        BL.append(temp82)
        BL.append(temp83)
        BL.append(temp84)
        BL.append(temp85)
        BL.append(temp86)
        BL.append(temp87)
        BL.append(temp88)
        BL.append(temp89)
        BL.append(temp90)
        BL.append(temp91)
        BL.append(temp92)
        BL.append(temp93)
        BL.append(temp94)
        BL.append(temp95)
        BL.append(temp96)
        BL.append(temp97)
        BL.append(temp98)
        BL.append(temp99)
        BL.append(temp100)
        BL.append(temp101)
        BL.append(temp102)
        BL.append(temp103)
        BL.append(temp104)
        BL.append(temp105)
        BL.append(temp106)
        BL.append(temp107)
        BL.append(temp108)
        BL.append(temp109)
        BL.append(temp110)
        BL.append(temp111)
        BL.append(temp112)
        BL.append(temp113)
        BL.append(temp114)
        BL.append(temp115)
        BL.append(temp116)
        BL.append(temp117)
        BL.append(temp118)
        BL.append(temp119)
        BL.append(temp120)
        BL.append(temp121)
        BL.append(temp122)
        BL.append(temp123)
        BL.append(temp124)
        BL.append(temp125)
        BL.append(temp126)
        BL.append(temp127)
        BL.append(temp128)
        BL.append(temp129)
        BL.append(temp130)
        BL.append(temp131)
        BL.append(temp132)
        BL.append(temp133)
        BL.append(temp134)
        BL.append(temp135)
        BL.append(temp136)
        BL.append(temp137)
        BL.append(temp138)
        BL.append(temp139)
        BL.append(temp140)
        BL.append(temp141)
        BL.append(temp142)
        BL.append(temp143)
        BL.append(temp144)
        BL.append(temp145)
        BL.append(temp146)
        BL.append(temp147)
        BL.append(temp148)
        BL.append(temp149)
        BL.append(temp150)
        BL.append(temp151)
        BL.append(temp152)
        BL.append(temp153)
        BL.append(temp154)
        BL.append(temp155)
        BL.append(temp156)
        BL.append(temp157)
        BL.append(temp158)
        BL.append(temp159)
        BL.append(temp160)
        BL.append(temp161)
        BL.append(temp162)
        
        FR.append(temp136)
        FR.append(temp137)
        FR.append(temp138)
        FR.append(temp139)
        FR.append(temp140)
        FR.append(temp141)
        FR.append(temp142)
        FR.append(temp143)
        FR.append(temp144)
        FR.append(temp145)
        FR.append(temp146)
        FR.append(temp147)
        FR.append(temp148)
        FR.append(temp149)
        FR.append(temp150)
        FR.append(temp151)
        FR.append(temp152)
        FR.append(temp153)
        FR.append(temp154)
        FR.append(temp155)
        FR.append(temp156)
        FR.append(temp157)
        FR.append(temp158)
        FR.append(temp159)
        FR.append(temp160)
        FR.append(temp161)
        FR.append(temp162)
        FR.append(temp163)
        FR.append(temp164)
        FR.append(temp165)
        FR.append(temp166)
        FR.append(temp167)
        FR.append(temp168)
        FR.append(temp169)
        FR.append(temp170)
        FR.append(temp171)
        FR.append(temp172)
        FR.append(temp173)
        FR.append(temp174)
        FR.append(temp175)
        FR.append(temp176)
        FR.append(temp177)
        FR.append(temp178)
        FR.append(temp179)
        FR.append(temp180)
        FR.append(temp181)
        FR.append(temp182)
        FR.append(temp183)
        FR.append(temp184)
        FR.append(temp185)
        FR.append(temp186)
        FR.append(temp187)
        FR.append(temp188)
        FR.append(temp189)
        FR.append(temp1)
        FR.append(temp2)
        FR.append(temp3)
        FR.append(temp4)
        FR.append(temp5)
        FR.append(temp6)
        FR.append(temp7)
        FR.append(temp8)
        FR.append(temp9)
        FR.append(temp10)
        FR.append(temp11)
        FR.append(temp12)
        FR.append(temp13)
        FR.append(temp14)
        FR.append(temp15)
        FR.append(temp16)
        FR.append(temp17)
        FR.append(temp18)
        FR.append(temp19)
        FR.append(temp20)
        FR.append(temp21)
        FR.append(temp22)
        FR.append(temp23)
        FR.append(temp24)
        FR.append(temp25)
        FR.append(temp26)
        FR.append(temp27)
        FR.append(temp28)
        FR.append(temp29)
        FR.append(temp30)
        FR.append(temp31)
        FR.append(temp32)
        FR.append(temp33)
        FR.append(temp34)
        FR.append(temp35)
        FR.append(temp36)
        FR.append(temp37)
        FR.append(temp38)
        FR.append(temp39)
        FR.append(temp40)
        FR.append(temp41)
        FR.append(temp42)
        FR.append(temp43)
        FR.append(temp44)
        FR.append(temp45)
        FR.append(temp46)
        FR.append(temp47)
        FR.append(temp48)
        FR.append(temp49)
        FR.append(temp50)
        FR.append(temp51)
        FR.append(temp52)
        FR.append(temp53)
        FR.append(temp54)
        FR.append(temp55)
        FR.append(temp56)
        FR.append(temp57)
        FR.append(temp58)
        FR.append(temp59)
        FR.append(temp60)
        FR.append(temp61)
        FR.append(temp62)
        FR.append(temp63)
        FR.append(temp64)
        FR.append(temp65)
        FR.append(temp66)
        FR.append(temp67)
        FR.append(temp68)
        FR.append(temp69)
        FR.append(temp70)
        FR.append(temp71)
        FR.append(temp72)
        FR.append(temp73)
        FR.append(temp74)
        FR.append(temp75)
        FR.append(temp76)
        FR.append(temp77)
        FR.append(temp78)
        FR.append(temp79)
        FR.append(temp80)
        FR.append(temp81)
        FR.append(temp82)
        FR.append(temp83)
        FR.append(temp84)
        FR.append(temp85)
        FR.append(temp86)
        FR.append(temp87)
        FR.append(temp88)
        FR.append(temp89)
        FR.append(temp90)
        FR.append(temp91)
        FR.append(temp92)
        FR.append(temp93)
        FR.append(temp94)
        FR.append(temp95)
        FR.append(temp96)
        FR.append(temp97)
        FR.append(temp98)
        FR.append(temp99)
        FR.append(temp100)
        FR.append(temp101)
        FR.append(temp102)
        FR.append(temp103)
        FR.append(temp104)
        FR.append(temp105)
        FR.append(temp106)
        FR.append(temp107)
        FR.append(temp108)
        FR.append(temp109)
        FR.append(temp110)
        FR.append(temp111)
        FR.append(temp112)
        FR.append(temp113)
        FR.append(temp114)
        FR.append(temp115)
        FR.append(temp116)
        FR.append(temp117)
        FR.append(temp118)
        FR.append(temp119)
        FR.append(temp120)
        FR.append(temp121)
        FR.append(temp122)
        FR.append(temp123)
        FR.append(temp124)
        FR.append(temp125)
        FR.append(temp126)
        FR.append(temp127)
        FR.append(temp128)
        FR.append(temp129)
        FR.append(temp130)
        FR.append(temp131)
        FR.append(temp132)
        FR.append(temp133)
        FR.append(temp134)
        FR.append(temp135)
        

        FL.append(temp109)
        FL.append(temp110)
        FL.append(temp111)
        FL.append(temp112)
        FL.append(temp113)
        FL.append(temp114)
        FL.append(temp115)
        FL.append(temp116)
        FL.append(temp117)
        FL.append(temp118)
        FL.append(temp119)
        FL.append(temp120)
        FL.append(temp121)
        FL.append(temp122)
        FL.append(temp123)
        FL.append(temp124)
        FL.append(temp125)
        FL.append(temp126)
        FL.append(temp127)
        FL.append(temp128)
        FL.append(temp129)
        FL.append(temp130)
        FL.append(temp131)
        FL.append(temp132)
        FL.append(temp133)
        FL.append(temp134)
        FL.append(temp135)
        FL.append(temp136)
        FL.append(temp137)
        FL.append(temp138)
        FL.append(temp139)
        FL.append(temp140)
        FL.append(temp141)
        FL.append(temp142)
        FL.append(temp143)
        FL.append(temp144)
        FL.append(temp145)
        FL.append(temp146)
        FL.append(temp147)
        FL.append(temp148)
        FL.append(temp149)
        FL.append(temp150)
        FL.append(temp151)
        FL.append(temp152)
        FL.append(temp153)
        FL.append(temp154)
        FL.append(temp155)
        FL.append(temp156)
        FL.append(temp157)
        FL.append(temp158)
        FL.append(temp159)
        FL.append(temp160)
        FL.append(temp161)
        FL.append(temp162)
        FL.append(temp163)
        FL.append(temp164)
        FL.append(temp165)
        FL.append(temp166)
        FL.append(temp167)
        FL.append(temp168)
        FL.append(temp169)
        FL.append(temp170)
        FL.append(temp171)
        FL.append(temp172)
        FL.append(temp173)
        FL.append(temp174)
        FL.append(temp175)
        FL.append(temp176)
        FL.append(temp177)
        FL.append(temp178)
        FL.append(temp179)
        FL.append(temp180)
        FL.append(temp181)
        FL.append(temp182)
        FL.append(temp183)
        FL.append(temp184)
        FL.append(temp185)
        FL.append(temp186)
        FL.append(temp187)
        FL.append(temp188)
        FL.append(temp189)
        FL.append(temp1)
        FL.append(temp2)
        FL.append(temp3)
        FL.append(temp4)
        FL.append(temp5)
        FL.append(temp6)
        FL.append(temp7)
        FL.append(temp8)
        FL.append(temp9)
        FL.append(temp10)
        FL.append(temp11)
        FL.append(temp12)
        FL.append(temp13)
        FL.append(temp14)
        FL.append(temp15)
        FL.append(temp16)
        FL.append(temp17)
        FL.append(temp18)
        FL.append(temp19)
        FL.append(temp20)
        FL.append(temp21)
        FL.append(temp22)
        FL.append(temp23)
        FL.append(temp24)
        FL.append(temp25)
        FL.append(temp26)
        FL.append(temp27)
        FL.append(temp28)
        FL.append(temp29)
        FL.append(temp30)
        FL.append(temp31)
        FL.append(temp32)
        FL.append(temp33)
        FL.append(temp34)
        FL.append(temp35)
        FL.append(temp36)
        FL.append(temp37)
        FL.append(temp38)
        FL.append(temp39)
        FL.append(temp40)
        FL.append(temp41)
        FL.append(temp42)
        FL.append(temp43)
        FL.append(temp44)
        FL.append(temp45)
        FL.append(temp46)
        FL.append(temp47)
        FL.append(temp48)
        FL.append(temp49)
        FL.append(temp50)
        FL.append(temp51)
        FL.append(temp52)
        FL.append(temp53)
        FL.append(temp54)
        FL.append(temp55)
        FL.append(temp56)
        FL.append(temp57)
        FL.append(temp58)
        FL.append(temp59)
        FL.append(temp60)
        FL.append(temp61)
        FL.append(temp62)
        FL.append(temp63)
        FL.append(temp64)
        FL.append(temp65)
        FL.append(temp66)
        FL.append(temp67)
        FL.append(temp68)
        FL.append(temp69)
        FL.append(temp70)
        FL.append(temp71)
        FL.append(temp72)
        FL.append(temp73)
        FL.append(temp74)
        FL.append(temp75)
        FL.append(temp76)
        FL.append(temp77)
        FL.append(temp78)
        FL.append(temp79)
        FL.append(temp80)
        FL.append(temp81)
        FL.append(temp82)
        FL.append(temp83)
        FL.append(temp84)
        FL.append(temp85)
        FL.append(temp86)
        FL.append(temp87)
        FL.append(temp88)
        FL.append(temp89)
        FL.append(temp90)
        FL.append(temp91)
        FL.append(temp92)
        FL.append(temp93)
        FL.append(temp94)
        FL.append(temp95)
        FL.append(temp96)
        FL.append(temp97)
        FL.append(temp98)
        FL.append(temp99)
        FL.append(temp100)
        FL.append(temp101)
        FL.append(temp102)
        FL.append(temp103)
        FL.append(temp104)
        FL.append(temp105)
        FL.append(temp106)
        FL.append(temp107)
        FL.append(temp108)
        
        list=[]
        stand=np.array([0.05,0,-0.21])
        
        br=[]
        bl=[]
        fr=[]
        fl=[]
        for it in BR:
            br.append(self.solver_R(it))
        for it in FR:
            fr.append(self.solver_R(it))
        for it in BL:
            bl.append(self.solver_L(it))
        for it in FL:
            fl.append(self.solver_L(it))
        for it in range(0,len(fl)):
            list.append(br[it]+bl[it]+fr[it]+fl[it])
        return list    
    def walk_back(self):
        temp=[]
        temp1=np.array([0.05,0,-0.21])
        temp2=np.array([0.00,0,-0.21])
        temp3=np.array([-0.05,0,-0.17])
        temp4=np.array([0.05,0,-0.12])
        temp5=np.array([0.15,0,-0.17])
        temp6=np.array([0.1,0,-0.21])
        temp7=np.array([0.05,0,-0.21])
        temp.append(temp7)
        temp.append(temp6)
        temp.append(temp5)
        temp.append(temp4)
        temp.append(temp3)
        temp.append(temp2)
        temp.append(temp1)
        list=[]
        stand=np.array([0.05,0,-0.21])
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right+left_stand+right_stand+left)
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right_stand+left+right+left_stand)
        return list    
    def turn_right1(self):
        temp=[]
        temp1=np.array([0.02,0.0,-0.075])
        temp2=np.array([0.02,0.0,-0.060])
        temp3=np.array([0.02,0.02,-0.060])
        temp4=np.array([0.02,0.02,-0.060])
        temp5=np.array([0.02,0.0,-0.075])
        temp.append(temp1)
        temp.append(temp2)
        temp.append(temp3)
        temp.append(temp4)
        temp.append(temp5)
        list=[]
        stand=np.array([0,0,-0.1922])
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right+left_stand+right_stand+left)
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right_stand+left+right+left_stand)
        return list    
    def turn_right(self):
        temp=[]
        temp1=np.array([0.02,0.0,-0.075])
        temp2=np.array([0.02,0.0,-0.060])
        temp3=np.array([0.02,0.02,-0.060])
        temp4=np.array([0.02,0.02,-0.060])
        temp5=np.array([0.02,0.0,-0.075])
        temp.append(temp1)
        temp.append(temp2)
        temp.append(temp3)
        temp.append(temp4)
        temp.append(temp5)
        list=[]
        stand=np.array([0,0,-0.1922])
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right_stand+left_stand+right+left_stand)
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right_stand+left_stand+right_stand+left)
        return list
    
    def turn_left(self):
        temp=[]
        temp1=np.array([0.02,0.0,-0.075])
        temp2=np.array([0.02,0.0,-0.060])
        temp3=np.array([0.02,-0.02,-0.060])
        temp4=np.array([0.02,-0.02,-0.060])
        temp5=np.array([0.02,0.0,-0.075])
        temp.append(temp1)
        temp.append(temp2)
        temp.append(temp3)
        temp.append(temp4)
        temp.append(temp5)
        list=[]
        stand=np.array([0,0,-0.1922])
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right_stand+left_stand+right+left_stand)
        for ite in temp:
            right= self.solver_R(ite)
            left= self.solver_L(ite)            
            right_stand= self.solver_R(stand)
            left_stand= self.solver_L(stand)
            list.append(right_stand+left_stand+right_stand+left)
        return list

#added
    def move(self):
        pygame.event.get()
        for joystick in joysticks:
            left_y_axis = joystick.get_axis(1)
            right_x_axis = joystick.get_axis(2)
                
        if abs(left_y_axis) > 0.05:
           y += left_y_axis * 5
        if abs(right_x_axis) > 0.05:
           x += right_x_axis * 5
                
        for event in pygame.event.get():
            if event.type == pygame.JOYDEVICEADDED:
               joy = pygame.joystick.Joystick(event.device_index)
               joysticks.append(joy)
        return joysticks
                        
                
                


